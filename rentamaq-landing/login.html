<!doctype html>

<html lang="es">

<head>

    <meta charset="utf-8">

    <title> Formulario de Acceso </title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://fonts.googleapis.com/css?family=Nunito&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="styles/login.css">


</head>

<body>

    <div id="contenedor">

        <div id="contenedorlogin">
            <div id="login">
                <form id="loginform">
                    <label for="usuario">Usuario</label>
                    <input id="usuario" type="text" name="usuario" placeholder="Usuario" required>

                    <label for="password">Contraseña</label>
                    <input id="password" type="password" placeholder="Contraseña" name="password" required>

                    <button type="submit" title="Ingresar" name="Ingresar">Ingresar</button>
                </form>

            </div>

            <div id="derecho">
                <div class="titulo">
                    Bienvenido
                </div>
                <hr>
                <div class="pie-form">
                    <a href="#">¿Perdiste tu contraseña?</a>
                    <a id="sinregistrar" href="#">¿No tienes Cuenta? Registrate</a>
                    <hr>
                    <a href="index.html">« Volver como invitado</a>
                </div>
            </div>
        </div>

        <div id="contenedorregistro">
            <div id="registro">
                <form id="registroform">
                    <label for="nombre">Nombre</label>
                    <input id="nombre" type="text" name="nombre" placeholder="ingresa tu nombre" required>

                    <label for="apellido">apellido</label>
                    <input id="apellido" type="text" placeholder="ingresa tu apellido" name="apellido" required>

                    <label for="email">Correo electronico</label>
                    <input id="email" type="mail" placeholder="correo electronico" name="email" required>

                    <label for="password">Contraseña</label>
                    <input id="nuevopassword" type="password" placeholder="Contraseña" name="password" required>

                    <label for="password">Confirmar contraseña</label>
                    <input id="confirmacionpassword" type="password" placeholder="Contraseña" name="password" required>

                    <button type="button" title="Ingresar" name="Ingresar">Registrarse</button>

                    <script>
                        document.addEventListener('DOMContentLoaded', function () {
                            const formRegistro = document.getElementById('registroform');
                            const email = document.getElementById('email');
                            const nuevopassword = document.getElementById('nuevopassword');
                            const confirmacionpassword = document.getElementById('confirmacionpassword');
                            const botonRegistrar = document.querySelector('#registroform button');
                            const nombre = document.getElementById('nombre');
                            const apellido = document.getElementById('apellido');

                            botonRegistrar.addEventListener('click', function (event) {
                                const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                                if (nombre.value.trim() === '' || apellido.value.trim() === '') {
                                    alert('Por favor, ingrese su nombre y apellido');
                                    event.preventDefault();
                                } else if (!emailPattern.test(email.value.trim())) {
                                    alert('El correo electrónico no es válido');
                                    email.value = '';
                                    email.focus();
                                    event.preventDefault();
                                } else if (nuevopassword.value.trim() === '') {
                                    alert('ingrese una contraseña valida');
                                    nuevopassword.focus();
                                    event.preventDefault();
                                }

                                else if (nuevopassword.value.trim() !== '' && nuevopassword.value !== confirmacionpassword.value) {
                                    alert('Las contraseñas no coinciden');
                                    nuevopassword.value = '';
                                    confirmacionpassword.value = '';
                                    password.focus();
                                    event.preventDefault();
                                } else {
                                    alert('Usted se ha registrado correctamente, ya es rentamaq!');
                                    window.location.reload();

                                }
                            });
                        });

                    </script>
                </form>

            </div>

            <div id="derecho">
                <div class="titulo">
                    Bienvenido
                </div>
                <hr>
                <div class="pie-form">
                    <a id="registrado" href="#">¿Ya tienes Cuenta? Ingresa</a>
                    <hr>
                    <a href="index.html">« Volver como invitado</a>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const urlParams = new URLSearchParams(window.location.search);
            const form = urlParams.get('form');
            const enlaceRegistro = document.getElementById('sinregistrar');
            const enlaceLogin = document.getElementById('registrado');

            if (form === 'registro') {
                document.getElementById('contenedorlogin').style.display = 'none';
                document.getElementById('contenedorregistro').style.display = 'flex';
            } else {
                document.getElementById('contenedorregistro').style.display = 'none';
                document.getElementById('contenedorlogin').style.display = 'flex';
            }

            enlaceRegistro.addEventListener('click', function (event) {
                event.preventDefault();
                document.getElementById('contenedorlogin').style.display = 'none';
                document.getElementById('contenedorregistro').style.display = 'flex';
            });

            enlaceLogin.addEventListener('click', function (event) {
                event.preventDefault();
                document.getElementById('contenedorregistro').style.display = 'none';
                document.getElementById('contenedorlogin').style.display = 'flex';
            });
        });

    </script>

</body>

</html>