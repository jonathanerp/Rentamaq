const productosConstruccionPesada = [
  {
    id: 1,
    carrousel: [
      'img/herramientapequeña.png',
      'img/equipoconstruccion.png',
      'img/imagen1.png',
      'img/imagen3.png',
    ],
    name: 'EXCAVADORA KOMATSU',
    image: 'img/recomendado1.jpg',
    description:
      'La Excavadora Komatsu es una máquina poderosa y versátil diseñada para trabajos de construcción de cualquier tamaño. Equipada con un motor robusto y componentes de alta calidad, esta excavadora puede manejar una variedad de tareas, desde la excavación de zanjas hasta la demolición de edificios. Su diseño ergonómico y controles intuitivos hacen que sea fácil de operar y cómoda de usar durante largas jornadas de trabajo.',
    precio: '$100.000.000',
  },
  {
    id: 2,
    carrousel: [
      './img/recomendado2.jpg',
      'img/recomendado2.jpg',
      'img/recomendado2.jpg',
      'img/recomendado2.jpg',
    ],
    name: 'BULLDOZER CATERPILLAR',
    image: 'img/recomendado2.jpg',
    description:
      'El Bulldozer Caterpillar es una máquina impresionante diseñada para el trabajo duro en cualquier obra de construcción. Equipado con un motor de alta potencia y un tren de rodaje duradero, este bulldozer puede enfrentarse a terrenos difíciles y cargar y empujar grandes cantidades de tierra y escombros con facilidad. Su cabina espaciosa y cómoda ofrece al operador una excelente visibilidad y un entorno de trabajo seguro.',
    precio: '$100.000.000',
  },
  {
    id: 3,
    carrousel: [
      './img/imagen3.png',
      'img/imagen3.png',
      'img/imagen3.png',
      'img/imagen3.png',
    ],
    name: 'RETROEXCAVADORA CATERPILLAR',
    image: 'img/recomendado3.jpg',
    description:
      'La Retroexcavadora Caterpillar es una máquina versátil y eficiente diseñada para una variedad de tareas de excavación y carga en la construcción. Equipada con una cabina cómoda y controles intuitivos, esta retroexcavadora ofrece una excelente visibilidad y comodidad para el operador. Con su potente motor y componentes duraderos, esta máquina puede manejar una variedad de terrenos y condiciones de trabajo.',
    precio: '$100.000.000',
  },
  {
    id: 4,
    carrousel: [
      './img/imagen4.png',
      'img/imagen4.png',
      'img/imagen4.png',
      'img/imagen4.png',
    ],
    name: 'APLANADORA CATERPILLAR',
    image: 'img/recomendado4.jpg',
    description:
      'La Aplanadora Caterpillar es una máquina poderosa y versátil diseñada para niveles precisos y un acabado suave en una variedad de superficies. Equipada con un motor potente y componentes duraderos, esta aplanadora puede manejar terrenos difíciles y proporcionar un rendimiento constante y confiable. Su diseño ergonómico y controles intuitivos hacen que sea fácil de operar y cómoda de usar durante largas jornadas de trabajo.',
    precio: '$100.000.000',
  },
  {
    id: 5,
    carrousel: [
      './img/imagen5.png',
      'img/imagen5.png',
      'img/imagen5.png',
      'img/imagen5.png',
    ],
    name: 'MINICARGADOR BOBCAT',
    image: 'img/recomendado5.jpg',
    description:
      'El Minicargador Bobcat es una máquina compacta y versátil diseñada para trabajos en espacios reducidos. Equipado con una variedad de implementos y accesorios, este minicargador puede manejar una amplia gama de tareas, desde la carga y descarga de materiales hasta la nivelación de terrenos. Su diseño compacto y maniobrable, combinado con una cabina cómoda y controles intuitivos, lo convierte en una opción ideal para trabajos en áreas urbanas y espacios confinados.',
    precio: '$100.000.000',
  },
  {
    id: 6,
    carrousel: [
      './img/imagen6.png',
      'img/imagen6.png',
      'img/imagen6.png',
      'img/imagen6.png',
    ],
    name: 'MONTACARGA MITSUBISHI',
    image: 'img/recomendado6.jpg',
    description:
      'El Montacarga Mitsubishi es una máquina robusta y confiable diseñada para el movimiento eficiente de materiales en almacenes y depósitos. Equipado con un motor potente y componentes duraderos, este montacarga puede manejar cargas pesadas y proporcionar un rendimiento constante y confiable. Su diseño ergonómico y controles intuitivos hacen que sea fácil de operar y cómodo de usar durante largas jornadas de trabajo.',
    precio: '$100.000.000',
  },
  {
    id: 7,
    carrousel: [
      './img/imagen7.png',
      'img/imagen7.png',
      'img/imagen7.png',
      'img/imagen7.png',
    ],
    name: 'ANDAMIOS TUBULARES',
    image: 'img/recomendado7.jpg',
    description:
      'Los Andamios Tubulares son una solución versátil y segura para trabajos de construcción y mantenimiento en altura. Fabricados con materiales de alta calidad y un diseño duradero, estos andamios ofrecen una plataforma estable y segura para los trabajadores. Fáciles de montar y desmontar, estos andamios se adaptan a una variedad de aplicaciones y entornos de trabajo.',
    precio: '$100.000.000',
  },
  {
    id: 8,
    carrousel: [
      './img/imagen8.png',
      'img/imagen8.png',
      'img/imagen8.png',
      'img/imagen8.png',
    ],
    name: 'MOTONIVELADORA CATERPILLAR',
    image: 'img/recomendado8.jpg',
    description:
      'La Motoniveladora Caterpillar es una máquina versátil y eficiente diseñada para una variedad de tareas de nivelación y acabado en la construcción. Equipada con un potente motor y componentes duraderos, esta motoniveladora puede manejar terrenos difíciles y proporcionar un rendimiento constante y confiable. Su diseño ergonómico y controles intuitivos hacen que sea fácil de operar y cómoda de usar durante largas jornadas de trabajo.',
    precio: '$100.000.000',
  },
  {
    id: 9,
    carrousel: [
      './img/imagen9.png',
      'img/imagen9.png',
      'img/imagen9.png',
      'img/imagen9.png',
    ],
    name: 'VOLQUETA INTERNATIONAL',
    image: 'img/recomendado9.jpg',
    description:
      'La Volqueta International es una máquina robusta y confiable diseñada para el transporte eficiente de materiales en la construcción. Equipada con un motor potente y componentes duraderos, esta volqueta puede manejar cargas pesadas y proporcionar un rendimiento constante y confiable. Su diseño ergonómico y controles intuitivos hacen que sea fácil de operar y cómodo de usar durante largas jornadas de trabajo.',
    precio: '$100.000.000',
  },
  {
    id: 10,
    carrousel: [
      './img/imagen10.png',
      'img/imagen10.png',
      'img/imagen10.png',
      'img/imagen10.png',
    ],
    name: 'EXCAVADORA KOMATSU',
    image: 'img/recomendado10.jpg',
    description:
      'La Excavadora Komatsu es una máquina poderosa y versátil diseñada para trabajos de construcción de cualquier tamaño. Equipada con un motor robusto y componentes de alta calidad, esta excavadora puede manejar una variedad de tareas, desde la excavación de zanjas hasta la demolición de edificios. Su diseño ergonómico y controles intuitivos hacen que sea fácil de operar y cómoda de usar durante largas jornadas de trabajo.',
    precio: '$100.000.000',
  },
];

window.addEventListener('load', function () {
  const urlParams = new URLSearchParams(window.location.search);
  const id = parseInt(urlParams.get('id'));

  const producto = productosConstruccionPesada.find((prod) => prod.id === id);
  if (producto) {
    renderizarDetalleProducto(producto);
  } else {
    console.error('No se encontró ningún producto con el ID proporcionado.');
  }
});

function renderizarDetalleProducto(producto) {
  const detalleProducto = document.getElementById('detalle-producto');

  // Limpiar el contenedor del producto antes de agregar el nuevo producto
  detalleProducto.innerHTML = '';

  const modal = `
  <div id="myModal" class="modal">
    <span onclick="closeModal()" class="close">&times;</span>
    <div class="modal-content">
      <span onclick="plusSlides(-1)" class="prev">&#10094;</span>
      <span onclick="plusSlides(1)" class="next">&#10095;</span>
      <img class="modal-image" src="" id="modalImg" alt="" />
    </div>
  </div>
  `;
  detalleProducto.innerHTML += modal;
  // detalleProducto.appendChild(modal);
  // Crear el contenedor del producto
  const productoElemento = document.createElement('div');
  productoElemento.classList.add('product-display');

  // Crear el contenedor del producto
  const arrowContenedor = document.createElement('div');
  arrowContenedor.classList.add('back-arrow');
  arrowContenedor.innerHTML = `
    <a href="./index.html">
      <i class="fa-solid fa-arrow-left"></i>
    </a>
  `;
  detalleProducto.appendChild(arrowContenedor);

  // Contenedor para la imagen principal y el carrusel
  const contenedorimg = document.createElement('div');
  contenedorimg.classList.add('product-images');

  //Modal btn
  const openModalBtn = document.createElement('button');
  openModalBtn.classList.add('open-button');

  // Insertar la imagen principal del producto
  const imagenPrincipal = document.createElement('img');
  imagenPrincipal.classList.add('main-image');
  imagenPrincipal.classList.add('img-thumb');
  imagenPrincipal.onclick = () => currentSlide(1);
  imagenPrincipal.src = producto.image;

  openModalBtn.onclick = openModal;
  openModalBtn.appendChild(imagenPrincipal);

  contenedorimg.appendChild(openModalBtn);

  // Crear el carrusel de imágenes
  const carrusel = document.createElement('div');
  carrusel.classList.add('carousel');
  carrusel.classList.add('image-container');
  producto.carrousel.forEach(function (imagenUrl, index) {
    const imagenCarrusel = document.createElement('img');
    imagenCarrusel.onclick = () => currentSlide(index + 2);
    imagenCarrusel.src = imagenUrl;
    imagenCarrusel.classList.add('img-thumb');
    carrusel.appendChild(imagenCarrusel);
  });
  contenedorimg.appendChild(carrusel);

  // Agregar el contenedor de imágenes al contenedor del producto
  productoElemento.appendChild(contenedorimg);

  // Insertar la descripción del producto
  const descripcionProducto = document.createElement('div');
  descripcionProducto.classList.add('product-description');
  descripcionProducto.innerHTML = `
    <h2>${producto.name}</h2>
    <p>${producto.description}</p>
    <p>${producto.precio}</p>
  `;
  productoElemento.appendChild(descripcionProducto);

  // Agregar el producto al contenedor del detalle del producto
  detalleProducto.appendChild(productoElemento);
}

// Inicialmente renderizar el primer producto
renderizarDetalleProducto(productosConstruccionPesada[0]);
